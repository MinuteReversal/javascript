<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="yes" name="apple-mobile-web-app-capable" />
    <meta content="yes" name="apple-touch-fullscreen" />
    <meta content="telephone=no" name="format-detection" />
    <meta name="viewport" content="width=device-width,user-scalable=no" />
    <script src="download.js"></script>
</head>

<body>
    <label for="url">url:</label>
    <input id="url" placeholder="url" value="http://pub.yibalian.cn/21D64038F994400F9248AAA2B39EFDB7/Qr/BatchZip" />
    <br />

    <label for="method">method:</label>
    <select id="method">
        <option value="GET" selected="selected">GET</option>
        <option value="POST">POST</option>
        <option value="PUT">PUT</option>
        <option value="DELETE">DELETE</option>
    </select>
    <br />

    <label for="sendData">sendData:</label>
    <textarea id="sendData" placeholder="发送内容">
[
{"Content":"http://book.yibalian.cn/Binding/2D748BE2-AE00-4131-8379-0D54080E9C45", "FileName":"施丽萍_697757"},
{"Content":"http://book.yibalian.cn/Binding/7FEB581C-7044-42AD-B5C3-2420D76A25F1", "FileName":"浦绍宁_422199"},
{"Content":"http://book.yibalian.cn/Binding/F89D7092-F549-4CB7-93A7-7B4E19224558", "FileName":"王丽萍_613590"},
{"Content":"http://book.yibalian.cn/Binding/DB450B18-9887-415A-8FE1-7EB830BD6ABE", "FileName":"武永明_804982"},
{"Content":"http://book.yibalian.cn/Binding/7E71D21A-5E5E-4747-B4AF-4C26C924D6D1", "FileName":"李世芳_416326"},
{"Content":"http://book.yibalian.cn/Binding/6342E91D-F85D-4317-A494-AC3FC694E96C", "FileName":"唐方芳_607717"},
{"Content":"http://book.yibalian.cn/Binding/C8D268F2-CE48-442F-A616-77A0339EE7C8", "FileName":"王莉红_476184"},
{"Content":"http://book.yibalian.cn/Binding/BF07740B-A7FA-46D6-B317-AE40AD3070F1", "FileName":"于洪梅_413425"},
{"Content":"http://book.yibalian.cn/Binding/B6E67EE7-6BEB-4D24-8B10-59E5A75610E0", "FileName":"李晓芳_956148"},
{"Content":"http://book.yibalian.cn/Binding/9D8339C1-C9A4-4B94-BFF7-EE4BD0647E6F", "FileName":"杨钰国_247540"},
{"Content":"http://book.yibalian.cn/Binding/14BFD61D-F967-4AE6-8B3F-17BCA6BE3878", "FileName":"李薇_761856"},
{"Content":"http://book.yibalian.cn/Binding/36256181-4DB3-4237-86D0-A5D4C8C62DD5", "FileName":"罗晶晶_953247"},
{"Content":"http://book.yibalian.cn/Binding/88230F31-ABE0-4D9D-BE58-709427530FC2", "FileName":"张明敏_821714"},
{"Content":"http://book.yibalian.cn/Binding/C42D1E56-BF94-4976-A70F-E057AC3F1C58", "FileName":"李永斌_436030"},
{"Content":"http://book.yibalian.cn/Binding/8DD20360-272C-41D2-984D-BC9E73DEC74A", "FileName":"张伟_304497"},
{"Content":"http://book.yibalian.cn/Binding/84AB5BAF-B86B-4476-9BA3-7AA285CB6D83", "FileName":"卓晓云_320222"},
{"Content":"http://book.yibalian.cn/Binding/8CD4509F-9178-4D89-BDBD-2AB10C08EBE9", "FileName":"张灿玉_511613"},
{"Content":"http://book.yibalian.cn/Binding/CF0D3355-CC3F-4791-8FEE-CA738C543EAC", "FileName":"王银华_204414"},
{"Content":"http://book.yibalian.cn/Binding/101F861A-3810-4744-A6C2-3BC40C5C0C97", "FileName":"刘舟_972880"},
{"Content":"http://book.yibalian.cn/Binding/53CCA091-751E-4AA3-8D38-14EA89396FA6", "FileName":"王宏涛_988605"},
{"Content":"http://book.yibalian.cn/Binding/28B19FC2-8EF7-4539-B59F-0468414F0AA4", "FileName":"马伟_427256"},
{"Content":"http://book.yibalian.cn/Binding/4979EB50-CBC7-4DBB-AFCA-29FD75CB0B85", "FileName":"田尧_120057"},
{"Content":"http://book.yibalian.cn/Binding/D28648FE-6F81-4D55-AED3-85E6AE5172F8", "FileName":"杨杰_565598"},
{"Content":"http://book.yibalian.cn/Binding/681D5796-DB3A-4D81-B071-B133977A2F51", "FileName":"申颖睿_581324"},
{"Content":"http://book.yibalian.cn/Binding/32BE8C77-FCE8-4A09-9188-9F1DB43F5556", "FileName":"代林宇_274125"},
{"Content":"http://book.yibalian.cn/Binding/43716853-5270-4232-A048-6AFED2C4EE50", "FileName":"唐钰_211365"},
{"Content":"http://book.yibalian.cn/Binding/182CF6C5-1CAE-4163-99FE-C1C58182EAF0", "FileName":"罗恒_979831"},
{"Content":"http://book.yibalian.cn/Binding/01957AF9-8B9D-4291-B9AB-78558427D797", "FileName":"李国伟_446889"},
{"Content":"http://book.yibalian.cn/Binding/2BD06816-2E3E-470C-A851-1CB0118251DA", "FileName":"李战文_785539"}
]
    </textarea>
    <br />

    <button type="button" id="btnRequest">Request</button>
    <script>
        var url = document.getElementById("url");
        var header = document.getElementById("header");
        var method = document.getElementById("method");
        var sendData = document.getElementById("sendData");
        var responseText = document.getElementById("responseText");
        var btnRequest = document.getElementById("btnRequest");

        document.querySelector("#btnRequest").addEventListener("click", function () {
            download({
                url: url.value,
                method: method.value,
                postData:JSON.parse(sendData.value),
                fnSuccess: function () {
                    alert("下载完成");
                },
                fnError:function(xhr){
                    alert(xhr.status);
                }
            });
        });
    </script>
</body>

</html>